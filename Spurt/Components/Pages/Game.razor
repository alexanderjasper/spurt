@page "/game/{Code}"
@using Spurt.Components.Shared
@using Spurt.Domain.Games
@rendermode InteractiveServer

<PageTitle>Spur't | Spil</PageTitle>

<h1>Spur't Spil</h1>

@if (CurrentGame != null)
{
    <div>
        <h2>Spil @Code</h2>
        <p>Del denne kode med andre spillere, s√• de kan deltage i dit spil.</p>

        <PlayerList Players="CurrentGame.Players"/>

        @switch (CurrentGame.State)
        {
            case GameState.WaitingForCategories:
                <GameWaitingForCategoriesView
                    Game="CurrentGame"
                    CurrentPlayer="_currentPlayer"
                    OnCategorySaved="OnCategorySaved"
                    OnStartGame="StartGame"/>
                break;

            case GameState.InProgress:
                <GameInProgressView
                    Game="CurrentGame"
                    CurrentPlayer="_currentPlayer"
                    OnClueSelected="SelectClue"/>
                break;
        }
    </div>
}
else
{
    <p>Henter spil information...</p>
}

 